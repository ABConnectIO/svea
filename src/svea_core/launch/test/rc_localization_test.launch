<launch>
    <!--options: indoor, mocap-->
    <arg name="localization_method" default="indoor"/>
    <!--name of mocap model (if using mocap)-->
    <arg name="mocap_name" default=""/>
    <!--map file for localization (if using indoor)-->
    <arg name="map_file" default="$(find svea_core)/resources/maps/floor2.yaml" />

    <group if="$(eval localization_method == 'mocap')">
        <include file="$(find mocap_qualisys)/launch/qualisys.launch"/>
    </group>

    <group if="$(eval localization_method == 'indoor')">
        <include file="$(find svea_sensors)/launch/localize.launch">
            <arg name="use_rs" value="true"/>
            <arg name="file_name" value="$(arg map_file)"/>
        </include>
    </group>

    <node pkg="rosserial_python" type="serial_node.py" name="serial_node">
        <param name="port" value="/dev/ttyACM0"/>
        <param name="baud" value="250000"/>
    </node>

    <node pkg="svea_core" type="rc_localization_test.py" name="SVEA_rc_localization_test" output="screen">
        <param name="localization_method" value="$(arg localization_method)"/>
        <param name="mocap_name" value="$(arg mocap_name)"/>
    </node>
</launch>
